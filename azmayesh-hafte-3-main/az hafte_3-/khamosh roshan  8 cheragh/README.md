

 گزارش کار و مراحل 

در اینجا به دنبال ایجاد یک نوع رقص نور هستیم یعنی ایجاد یک الگوریتم متناوب برای روشن و خاموش شدن LED ها. بنابراین در کد های برنامه آرایه ای ایجاد می کنیم که در واقع نحوه چیدمان درایه های همین آرایه تعیین کننده نوع رقص نور ما می باشد. آرایه ای با ابعاد 4\*4 ایجاد می کنیم به صورتی که در هر ردیف آن همواره فقط یک درایه 1 ( به معنی ولتاژ HIGH ) وجود دارد و بقیه درایه ها صفر می باشند. سپس یک حلقه تو در تو درست می کنیم و گام های حلقه را به صورتی تنظیم می کنیم که :  
در هر گام حلقه داخلی، وضعیت روشن یا خاموش بودن یک LED تعیین می شود ( بر اساس درایه های آرایه ) و در گام بعدی به سراغ LED بعدی می رویم و همچنین در همان ردیف آرایه نیز یک ستون به جلو می رویم و این فرایند آن قدر ادامه دارد تا تمام ستون های یک ردیف از آرایه تمام شود. پس بنابراین در یکبار طی کردن یک ردیف کامل آرایه یک دور وضعیت روشن یا خاموش بودن تمام LED ها مشخص می شود. در نهایت حلقه بیرونی یک گام به جلو حرکت می کند که به معنی رفتن به ردیف بعدی آرایه می باشد و این چرخه تا رسیدن به آخرین ردیف آرایه تکرار خواهد شد.

---
 کد های برنامه 

```cpp
#define key1 digitalRead(A0) 
#define key2 digitalRead(A1)
#define key3 digitalRead(A2)


void setup() {
  pinMode(A0, INPUT);
  pinMode(A1, INPUT);
  pinMode(A2, INPUT);
  
  for (int i=0; i<8; i++){
    pinMode(i, OUTPUT);
    }
  
}

void loop() {

  int i, a;
  int dancinglight1 [ 8 ][ 8 ] ={
    { 0, 0, 0, 0, 0, 0, 0, 1},
    { 0, 0, 0, 0, 0, 0, 1, 0},
    { 0, 0, 0, 0, 0, 1, 0, 0},
    { 0, 0, 0, 0, 1, 0, 0, 0},
    { 0, 0, 0, 1, 0, 0, 0, 0},
    { 0, 0, 1, 0, 0, 0, 0, 0},
    { 0, 1, 0, 0, 0, 0, 0, 0},
    { 1, 0, 0, 0, 0, 0, 0, 0}
    };

    int dancinglight2 [ 4 ][ 8 ] ={
       { 0, 0, 0, 1, 1, 0, 0, 0},
       { 0, 0, 1, 0, 0, 1, 0, 0},
       { 0, 1, 0, 0, 0, 0, 1, 0},
       { 1, 0, 0, 0, 0, 0, 0, 1}
      };

    int dancinglight3 [ 3 ][ 8 ] ={
       { 1, 0, 1, 0, 1, 0, 0, 0},
       { 0, 1, 0, 1, 0, 1, 0, 0},
       { 0, 0, 1, 0, 1, 0, 1, 0}
      };

    
    for (int i=0; i<8; i++){
      digitalWrite(i,0);
      }
    if(key1 ==0){
      for(a=0 ; (a<8) & (key2 == 1) & ( key3 == 1); a++ ){
          for(i =0 ; i<8 ; i++){
            digitalWrite(i, dancinglight1 [a] [i]);
            
            }
            delay(200);
        }
      }

     if(key2 ==0){
      for(a=0 ; (a<4) & (key1 == 1) & ( key3 == 1); a++ ){
          for(i =0 ; i<8 ; i++){
            digitalWrite(i,dancinglight2 [a] [i]);
            }

            delay(300);
          }
          
      }


      if(key3 ==0){
      for(a=0 ; (a<3) & (key1 == 1) & ( key2 == 1); a++ ){
          for(i =0 ; i<8 ; i++){
            digitalWrite(i, dancinglight3 [a] [i]);
            }

            delay(300);
          }

}
}
